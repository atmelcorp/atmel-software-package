ETH_LWIP EXAMPLE
============

# Objectives
------------
This project implements webserver example by using lwIP stack, It enables the
device to act as a web server, sending a very short page when accessed through
a browser. 

# Example Description
---------------------
The program will read the MAC address from the AT24MAC EEPROM if it is available. 
DHCP is enabled by default, so the IP adddress, gateways and other network 
parameters will be assigned dynamically. Then ask the transceiver to auto-negotiate
the best mode of operation. Once this is done, it will initialize lwIP modules and 
HTTP sever application.
Please refer to the lwIP documentation for more information about the TCP/IP
stack and the webserver example.

DHCP can be disbaled by setting the value of LWIP_DHCP as 0 in lwipopts.h file.
In this case, the GMAC will be configured with a default IP address ( / MAC address)

# Test
------
## Supported targets
--------------------
* SAMA5D2-PTC-EK
* SAMA5D2-XPLAINED
* SAMA5D27-SOM1-EK
* SAMA5D3-EK
* SAMA5D3-XPLAINED
* SAMA5D4-EK
* SAMA5D4-XPLAINED
* SAME70-XPLAINED
* SAMV71-XPLAINED
* SAM9X60-EK
* SAM9X60-CURIOSITY

## Setup
--------
 - On the computer, open and configure a terminal application
(e.g. HyperTerminal on Microsoft Windows) with these settings:

     - 115200 bauds
     - 8 bits of data
     - No parity
     - 1 stop bit
     - No flow control

 - Connect the board to network with an Ethernet cable.
 - In the case of no DHCP, the board may be connected directly to a computer
	 - Make sure to use a cross/twisted wired cable such as the one provided with the board.
     - Make sure the IP adress of the computer is in the same network as the device (192.168.1.0/24, the board is at 192.168.1.3).

## Start the application
------------------------

The following test will be printed if successful.
 - In the default case with DHCP:
*Type the IP address of the device in a web browser, http://XX.XX.XX.XX*
    XX.XX.XX.XX is the assigned IP address for the device.
 - In the case of no DHCP:
*Type the IP address of the device in a web browser, http://192.168.1.3*

Tested with IAR and GCC (sram and ddram configuration)
In order to test this example, the process is the following:

Step | Description | Expected Result | Result
-----|-------------|-----------------|-------
Open http://XX.XX.XX.XX in a web browser. | The page generated by lwIP will appear in the web browser, like below: ``Small test page.`` | PASSED | PASSED
run iperf server on the host | run with command "iperf -s" | PASSED | PASSED
type 'c' and enter the host IP | run iperf in client mode | get iperf report on both the console and the host | PASSED
type 's' | run iperf in server mode | PASSED | PASSED
run iperf client on the host | run with command "iperf -c 192.168.1.3" | get iperf report on both the console and the host | PASSED
